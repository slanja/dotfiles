<!DOCTYPE html>
<html lang="en" class="js sidebar-visible navy"><head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Configuration - eww documentation</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="rgba(0, 0, 0, 0)">

        
        <link rel="icon" href="https://elkowar.github.io/eww/favicon.svg">
        
        
        <link rel="shortcut icon" href="https://elkowar.github.io/eww/favicon.png">
        
        <link rel="stylesheet" href="Configuration%20-%20eww%20documentation_files/variables.css">
        <link rel="stylesheet" href="Configuration%20-%20eww%20documentation_files/general.css">
        <link rel="stylesheet" href="Configuration%20-%20eww%20documentation_files/chrome.css">
        
        <link rel="stylesheet" href="Configuration%20-%20eww%20documentation_files/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="Configuration%20-%20eww%20documentation_files/font-awesome.css">
        
        <link rel="stylesheet" href="Configuration%20-%20eww%20documentation_files/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="Configuration%20-%20eww%20documentation_files/highlight.css" disabled="">
        <link rel="stylesheet" href="Configuration%20-%20eww%20documentation_files/tomorrow-night.css">
        <link rel="stylesheet" href="Configuration%20-%20eww%20documentation_files/ayu-highlight.css" disabled="">

        <!-- Custom theme stylesheets -->
        

        
    <link href="data:text/css,%3Ais(%5Bid*%3D'google_ads_iframe'%5D%2C%5Bid*%3D'taboola-'%5D%2C.taboolaHeight%2C.taboola-placeholder%2C%23credential_picker_container%2C%23credentials-picker-container%2C%23credential_picker_iframe%2C%5Bid*%3D'google-one-tap-iframe'%5D%2C%23google-one-tap-popup-container%2C.google-one-tap-modal-div%2C%23amp_floatingAdDiv%2C%23ez-content-blocker-container)%20%7Bdisplay%3Anone!important%3Bmin-height%3A0!important%3Bheight%3A0!important%3B%7D" rel="stylesheet" type="text/css"></head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents" aria-hidden="false">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="https://elkowar.github.io/eww/eww.html" tabindex="0">Eww - Widgets for everyone!</a></li><li class="chapter-item expanded "><a href="https://elkowar.github.io/eww/configuration.html" class="active" tabindex="0">Configuration</a></li><li class="chapter-item expanded "><a href="https://elkowar.github.io/eww/expression_language.html" tabindex="0">Eww expressions</a></li><li class="chapter-item expanded "><a href="https://elkowar.github.io/eww/working_with_gtk.html" tabindex="0">Theming with GTK</a></li><li class="chapter-item expanded "><a href="https://elkowar.github.io/eww/magic-vars.html" tabindex="0">Magic Variables</a></li><li class="chapter-item expanded "><a href="https://elkowar.github.io/eww/widgets.html" tabindex="0">Widgets</a></li><li class="chapter-item expanded "><a href="https://elkowar.github.io/eww/troubleshooting.html" tabindex="0">Troubleshooting</a></li><li class="chapter-item expanded "><a href="https://elkowar.github.io/eww/examples.html" tabindex="0">Examples</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar bordered" style="top: 3760px;">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar" aria-expanded="true">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">eww documentation</h1>

                    <div class="right-buttons">
                        
                        <a href="https://elkowar.github.io/eww/print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/elkowar/eww/tree/master/docs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="writing-your-eww-configuration"><a class="header" href="#writing-your-eww-configuration">Writing your eww configuration</a></h1>
<p>(For a list of all built-in widgets (i.e. <code class="hljs language-undefined"><mark data-markjs="true">box</mark></code>, <code class="hljs language-undefined">label</code>, <code class="hljs language-undefined">button</code>),  see <a href="https://elkowar.github.io/eww/widgets.html">Widget Documentation</a>.)<br>
Eww is configured using its own language called <code class="hljs language-undefined">yuck</code>.
Using yuck, you declare the structure and content of your widgets, the geometry, position, and behavior of any windows,
as well as any state and data that will be used in your widgets.
Yuck is based around S-expressions, which you may know from lisp-like languages.
If you're using vim, you can make use of <a href="https://github.com/elkowar/yuck.vim">yuck.vim</a> for editor support.
If you're using VSCode, you can get syntax highlighting and formatting from <a href="https://marketplace.visualstudio.com/items?itemName=eww-yuck.yuck">yuck-vscode</a>.
It is also recommended to use <a href="https://shaunlebron.github.io/parinfer/">parinfer</a>,
which makes working with S-expressions delightfully easy!</p>
<p>Additionally, any styles are defined in CSS or SCSS (which is mostly just slightly improved CSS syntax).
While eww supports a significant portion of the CSS you know from the web,
not everything is supported, as eww relies on GTK's own CSS engine.
Notably, some animation features are unsupported,
as well as most layout-related CSS properties such as flex<mark data-markjs="true">box</mark>, <code class="hljs language-undefined">float</code>, absolute position or <code class="hljs language-undefined">width</code>/<code class="hljs language-undefined">height</code>.</p>
<p>To get started, you'll need to create two files: <code class="hljs language-undefined">eww.yuck</code> and <code class="hljs language-undefined">eww.scss</code> (or <code class="hljs language-undefined">eww.css</code>, if you prefer).
These files must be placed under <code class="hljs language-undefined">$XDG_CONFIG_HOME/eww</code> (this is most likely <code class="hljs language-undefined">~/.config/eww</code>).</p>
<p>Now that those files are created, you can start writing your first widget!</p>
<h2 id="creating-your-first-window"><a class="header" href="#creating-your-first-window">Creating your first window</a></h2>
<p>Firstly, you will need to create a top-level window. Here, you 
configure things such as the name, position, geometry, and content of 
your window.</p>
<p>Let's look at an example window definition:</p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-lisp hljs">(<span class="hljs-name">defwindow</span> example
           <span class="hljs-symbol">:monitor</span> <span class="hljs-number">0</span>
           <span class="hljs-symbol">:geometry</span> (<span class="hljs-name">geometry</span> <span class="hljs-symbol">:x</span> <span class="hljs-string">"0%"</span>
                               <span class="hljs-symbol">:y</span> <span class="hljs-string">"20px"</span>
                               <span class="hljs-symbol">:width</span> <span class="hljs-string">"90%"</span>
                               <span class="hljs-symbol">:height</span> <span class="hljs-string">"30px"</span>
                               <span class="hljs-symbol">:anchor</span> <span class="hljs-string">"top center"</span>)
           <span class="hljs-symbol">:stacking</span> <span class="hljs-string">"fg"</span>
           <span class="hljs-symbol">:reserve</span> (<span class="hljs-name">struts</span> <span class="hljs-symbol">:distance</span> <span class="hljs-string">"40px"</span> <span class="hljs-symbol">:side</span> <span class="hljs-string">"top"</span>)
           <span class="hljs-symbol">:windowtype</span> <span class="hljs-string">"dock"</span>
           <span class="hljs-symbol">:wm-ignore</span> false
  <span class="hljs-string">"example content"</span>)
</code></pre>
<p>Here, we are defining a window named <code class="hljs language-undefined">example</code>, which we then define a set of properties for. Additionally, we set the content of the window to be the text <code class="hljs language-undefined">"example content"</code>.</p>
<p>You can now open your first window by running <code class="hljs language-undefined">eww&nbsp;open&nbsp;example</code>! Glorious!</p>
<h3 id="defwindow-properties"><a class="header" href="#defwindow-properties"><code>defwindow</code>-properties</a></h3>
<table><thead><tr><th align="right">Property</th><th>Description</th></tr></thead><tbody>
<tr><td align="right"><code class="hljs language-undefined">monitor</code></td><td>Which monitor this window should be displayed on. Can be either a number (X11 and Wayland) or an output name (X11 only).</td></tr>
<tr><td align="right"><code class="hljs language-undefined">geometry</code></td><td>Geometry of the window.</td></tr>
</tbody></table>
<p><strong><code class="hljs language-undefined">geometry</code>-properties</strong></p>
<table><thead><tr><th align="right">Property</th><th>Description</th></tr></thead><tbody>
<tr><td align="right"><code class="hljs language-undefined">x</code>, <code class="hljs language-undefined">y</code></td><td>Position of the window. Values may be provided in <code class="hljs language-undefined">px</code> or <code class="hljs language-undefined">%</code>. Will be relative to <code class="hljs language-undefined">anchor</code>.</td></tr>
<tr><td align="right"><code class="hljs language-undefined">width</code>, <code class="hljs language-undefined">height</code></td><td>Width and height of the window. Values may be provided in <code class="hljs language-undefined">px</code> or <code class="hljs language-undefined">%</code>.</td></tr>
<tr><td align="right"><code class="hljs language-undefined">anchor</code></td><td>Anchor-point of the window. Either <code class="hljs language-undefined">center</code> or combinations of <code class="hljs language-undefined">top</code>, <code class="hljs language-undefined">center</code>, <code class="hljs language-undefined">bottom</code> and <code class="hljs language-undefined">left</code>, <code class="hljs language-undefined">center</code>, <code class="hljs language-undefined">right</code>.</td></tr>
</tbody></table>
<br>
Depending on if you are using X11 or Wayland, some additional properties exist:
<h4 id="x11"><a class="header" href="#x11">X11</a></h4>
<table><thead><tr><th align="right">Property</th><th>Description</th></tr></thead><tbody>
<tr><td align="right"><code class="hljs language-undefined">stacking</code></td><td>Where the window should appear in the stack. Possible values: <code class="hljs language-undefined">fg</code>, <code class="hljs language-undefined">bg</code>.</td></tr>
<tr><td align="right"><code class="hljs language-undefined">wm-ignore</code></td><td>Whether
 the window manager should ignore this window. This is useful for 
dashboard-style widgets that don't need to interact with other windows 
at all. Note that this makes some of the other properties not have any 
effect. Either <code class="hljs language-undefined">true</code> or <code class="hljs language-undefined">false</code>.</td></tr>
<tr><td align="right"><code class="hljs language-undefined">reserve</code></td><td>Specify
 how the window manager should make space for your window. This is 
useful for bars, which should not overlap any other windows.</td></tr>
<tr><td align="right"><code class="hljs language-undefined">windowtype</code></td><td>Specify
 what type of window this is. This will be used by your window manager 
to determine how it should handle your window. Possible values: <code class="hljs language-undefined">normal</code>, <code class="hljs language-undefined">dock</code>, <code class="hljs language-undefined">toolbar</code>, <code class="hljs language-undefined">dialog</code>, <code class="hljs language-undefined">desktop</code>. Default: <code class="hljs language-undefined">dock</code> if <code class="hljs language-undefined">reserve</code> is specified, <code class="hljs language-undefined">normal</code> otherwise.</td></tr>
</tbody></table>
<h4 id="wayland"><a class="header" href="#wayland">Wayland</a></h4>
<table><thead><tr><th align="right">Property</th><th>Description</th></tr></thead><tbody>
<tr><td align="right"><code class="hljs language-undefined">stacking</code></td><td>Where the window should appear in the stack. Possible values: <code class="hljs language-undefined">fg</code>, <code class="hljs language-undefined">bg</code>, <code class="hljs language-undefined">overlay</code>, <code class="hljs language-undefined">bottom</code>.</td></tr>
<tr><td align="right"><code class="hljs language-undefined">exclusive</code></td><td>Whether the compositor should reserve space for the window automatically.</td></tr>
<tr><td align="right"><code class="hljs language-undefined">focusable</code></td><td>Whether the window should be able to be focused. This is necessary for any widgets that use the keyboard to work.</td></tr>
<tr><td align="right"><code class="hljs language-undefined">namespace</code></td><td>Set the wayland layersurface namespace eww uses</td></tr>
</tbody></table>
<h2 id="your-first-widget"><a class="header" href="#your-first-widget">Your first widget</a></h2>
<p>While our bar is already looking great, it's a bit boring. Thus, let's add some actual content!</p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-lisp hljs">(<span class="hljs-name">defwidget</span> greeter [?text name]
  (<span class="hljs-name"><mark data-markjs="true">box</mark></span> <span class="hljs-symbol">:orientation</span> <span class="hljs-string">"horizontal"</span>
       <span class="hljs-symbol">:halign</span> <span class="hljs-string">"center"</span>
    text
    (<span class="hljs-name">button</span> <span class="hljs-symbol">:onclick</span> <span class="hljs-string">"notify-send 'Hello' 'Hello, ${name}'"</span>
      <span class="hljs-string">"Greet"</span>)))
</code></pre>
<p>To show this, let's replace the text in our window definition with a call to this new widget:</p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-lisp hljs">(<span class="hljs-name">defwindow</span> example
           <span class="hljs-comment">; ... values omitted</span>
  (<span class="hljs-name">greeter</span> <span class="hljs-symbol">:text</span> <span class="hljs-string">"Say hello!"</span>
           <span class="hljs-symbol">:name</span> <span class="hljs-string">"Tim"</span>))
</code></pre>
<p>There is a lot going on here, so let's step through this.</p>
<p>We are creating a widget named <code class="hljs language-undefined">greeter</code>. This widget takes two attributes, called <code class="hljs language-undefined">text</code> and <code class="hljs language-undefined">name</code>.
The declaration <code class="hljs language-undefined">?text</code> specifies that the <code class="hljs language-undefined">text</code>-attribute is optional, and can thus be left out. In that case,
its value will be the empty string <code class="hljs language-undefined">""</code>.
The <code class="hljs language-undefined">name</code> attribute <em>must</em> be provided.</p>
<p>Now we declare the body of our widget. We make use of a <code class="hljs language-undefined"><mark data-markjs="true">box</mark></code>, which we set a couple attributes of.</p>
<p>We need this <code class="hljs language-undefined"><mark data-markjs="true">box</mark></code>, as a widget definition can only ever contain a single widget - otherwise,
eww would not know if it should align them vertically or horizontally, how it should space them, and so on.
Thus, we wrap multiple children in a <code class="hljs language-undefined"><mark data-markjs="true">box</mark></code>.
This <mark data-markjs="true">box</mark> then contains a reference to the provided attribute <code class="hljs language-undefined">text</code>, as well as a button.
In that button's <code class="hljs language-undefined">onclick</code> attribute, we refer to the provided <code class="hljs language-undefined">name</code> using string-interpolation syntax: <code class="hljs language-undefined">"${name}"</code>.
This allows us to easily refer to any variables within strings.
In fact, there is a lot more you can do within <code class="hljs language-undefined">${...}</code> - more on that in the chapter about the <a href="https://elkowar.github.io/eww/expression_language.html">expression language</a>.</p>
<p>To then use our widget, we call it just like we would use any other built-in widget and provide the required attributes.</p>
<p>As you may have noticed, we are using a couple predefined widgets here. These are all listed and explained in the <a href="https://elkowar.github.io/eww/widgets.html">widgets chapter</a>.</p>
<h3 id="rendering-children-in-your-widgets"><a class="header" href="#rendering-children-in-your-widgets">Rendering children in your widgets</a></h3>
<p>As your configuration grows, you might want to improve the structure 
of you config by factoring out functionality into basic reusable 
widgets.
Eww allows you to create custom wrapper widgets that can themselves take
 children, just like some of the built-in widgets like <code class="hljs language-undefined"><mark data-markjs="true">box</mark></code> or <code class="hljs language-undefined">button</code> can.
For this, use the <code class="hljs language-undefined">children</code> placeholder:</p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-lisp hljs">(<span class="hljs-name">defwidget</span> labeled-container [name]
  (<span class="hljs-name"><mark data-markjs="true">box</mark></span> <span class="hljs-symbol">:class</span> <span class="hljs-string">"container"</span>
    name
    (<span class="hljs-name">children</span>)))
</code></pre>
<p>Now you can use this widget as expected:</p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-lisp hljs">(<span class="hljs-name">labeled-container</span> <span class="hljs-symbol">:name</span> <span class="hljs-string">"foo"</span>
  (<span class="hljs-name">button</span> <span class="hljs-symbol">:onclick</span> <span class="hljs-string">"notify-send hey ho"</span>
    <span class="hljs-string">"click me"</span>))
</code></pre>
<p>You can also create more complex structure by referring to specific children with the <code class="hljs language-undefined">nth</code>-attribute:</p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-lisp hljs">(<span class="hljs-name">defwidget</span> two-<mark data-markjs="true">box</mark>es []
  (<span class="hljs-name"><mark data-markjs="true">box</mark></span>
    (<span class="hljs-name"><mark data-markjs="true">box</mark></span> <span class="hljs-symbol">:class</span> <span class="hljs-string">"first"</span> (<span class="hljs-name">children</span> <span class="hljs-symbol">:nth</span> <span class="hljs-number">0</span>))
    (<span class="hljs-name"><mark data-markjs="true">box</mark></span> <span class="hljs-symbol">:class</span> <span class="hljs-string">"second"</span> (<span class="hljs-name">children</span> <span class="hljs-symbol">:nth</span> <span class="hljs-number">1</span>))))
</code></pre>
<h2 id="adding-dynamic-content"><a class="header" href="#adding-dynamic-content">Adding dynamic content</a></h2>
<p>Now that you feel sufficiently greeted by your bar, you may realize 
that showing data like the time and date might be even more useful than 
having a button that greets you.</p>
<p>To implement dynamic content in your widgets, you make use of <em>variables</em>.</p>
<p>These user-defined variables are globally available from all of your 
widgets. Whenever the variable changes, the value in the widget will 
update!</p>
<p>There are four different types of variables: basic, polling, listening, and a set of builtin "magic" variables.</p>
<p><strong>Basic variables (<code class="hljs language-undefined">defvar</code>)</strong></p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-lisp hljs">(<span class="hljs-name">defvar</span> foo <span class="hljs-string">"initial value"</span>)
</code></pre>
<p>This is the simplest type of variable.
Basic variables don't ever change automatically.
Instead, you explicitly update them by calling eww like so: <code class="hljs language-undefined">eww&nbsp;update&nbsp;foo="new value"</code>.</p>
<p>This is useful if you have values that change very rarely, or may change as a result of some external script you wrote.
They may also be useful to have buttons within eww change what is shown within your widget, by setting attributes like <code class="hljs language-undefined">onclick</code> to run <code class="hljs language-undefined">eww&nbsp;update</code>.</p>
<p><strong>Polling variables (<code class="hljs language-undefined">defpoll</code>)</strong></p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-lisp hljs">(<span class="hljs-name">defvar</span> time-visible false)   <span class="hljs-comment">; for :run-while property of below variable</span>
                              <span class="hljs-comment">; when this turns true, the polling starts and</span>
                              <span class="hljs-comment">; var gets updated with given interval</span>

(<span class="hljs-name">defpoll</span> time <span class="hljs-symbol">:interval</span> <span class="hljs-string">"1s"</span>
              <span class="hljs-symbol">:initial</span> <span class="hljs-string">"initial-value"</span>  <span class="hljs-comment">; optional, defaults to poll at startup</span>
              <span class="hljs-symbol">:run-while</span> time-visible   <span class="hljs-comment">; optional, defaults to 'true'</span>
  `date +%H:%M:%S`)
</code></pre>
<p>A polling variable is a variable which runs a provided shell-script repeatedly, in a given interval.</p>
<p>This may be the most commonly used type of variable.
They are useful to access any quickly retrieved value repeatedly,
and thus are the perfect choice for showing your time, date, as well as 
other bits of information such as pending package updates, weather, and 
battery level.</p>
<p>You can also specify an initial-value. This should prevent eww from 
waiting for the result of a give command during startup, thus
making the startup time faster.</p>
<p><strong>Listening variables (<code class="hljs language-undefined">deflisten</code>)</strong></p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-lisp hljs">(<span class="hljs-name">deflisten</span> foo <span class="hljs-symbol">:initial</span> <span class="hljs-string">"whatever"</span>
  `tail -F /tmp/some_file`)
</code></pre>
<p>Listening variables might be the most confusing of the bunch.
A listening variable runs a script once, and reads its output continously.
Whenever the script outputs a new line, the value will be updated to that new line.
In the example given above, the value of <code class="hljs language-undefined">foo</code> will start out as <code class="hljs language-undefined">"whatever"</code>, and will change whenever a new line is appended to <code class="hljs language-undefined">/tmp/some_file</code>.</p>
<p>These are particularly useful when you want to apply changes instantaneously when an operation happens if you have a script
that can monitor some value on its own. Volume, brightness, workspaces that get added/removed at runtime,
monitoring currently focused desktop/tag, etc. are the most common usecases of this type of variable.
These are particularly efficient and should be preffered if possible.</p>
<p>For example, the command <code class="hljs language-undefined">xprop&nbsp;-spy&nbsp;-root&nbsp;_NET_CURRENT_DESKTOP</code> writes the currently focused desktop whenever it changes.
Another example usecase is monitoring the currently playing song with playerctl: <code class="hljs language-undefined">playerctl&nbsp;--follow metadata&nbsp;--format&nbsp;{{title}}</code>.</p>
<p><strong>Built-in "magic" variables</strong></p>
<p>In addition to defining your own variables, eww provides some values for you to use out of the <mark data-markjs="true">box</mark>.
These include values such as your CPU and RAM usage.
These mostly contain their data as JSON, which you can then get using the <a href="https://elkowar.github.io/eww/expression_language.html">json access syntax</a>.
All available magic variables are listed <a href="https://elkowar.github.io/eww/magic-vars.html">here</a>.</p>
<h2 id="dynamically-generated-widgets-with-literal"><a class="header" href="#dynamically-generated-widgets-with-literal">Dynamically generated widgets with <code>literal</code></a></h2>
<p>In some cases, you want to not only change the text,
value, or color of a widget dynamically, but instead want to generate an entire widget structure dynamically.
This is necessary if you want to display lists of things (for example notifications)
where the amount is not necessarily known,
or if you want to change the widget structure in some other, more complex way.</p>
<p>For this, you can make use of one of eww's most powerful features: the <code class="hljs language-undefined">literal</code> widget.</p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-lisp hljs">(<span class="hljs-name">defvar</span> variable_containing_yuck
  <span class="hljs-string">"(<mark data-markjs="true">box</mark> (button 'foo') (button 'bar'))"</span>)

<span class="hljs-comment">; Then, inside your widget, use:</span>
(<span class="hljs-name">literal</span> <span class="hljs-symbol">:content</span> variable_containing_yuck)
</code></pre>
<p>Here, you specify the content of your literal by providing it a 
string (most likely stored in a variable) which contains a single yuck 
widget tree.
Eww then reads the provided value and renders the resulting widget. 
Whenever it changes, the widget will be rerendered.</p>
<p>Note that this is not all that efficient. Make sure to only use <code class="hljs language-undefined">literal</code> when necessary!</p>
<h2 id="generating-a-list-of-widgets-from-json-using-for"><a class="header" href="#generating-a-list-of-widgets-from-json-using-for">Generating a list of widgets from JSON using <code>for</code></a></h2>
<p>If you want to display a list of values, you can use the <code class="hljs language-undefined">for</code>-Element to fill a container with a list of elements generated from a JSON-array.</p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-lisp hljs">(<span class="hljs-name">defvar</span> my-json <span class="hljs-string">"[1, 2, 3]"</span>)

<span class="hljs-comment">; Then, inside your widget, you can use</span>
(<span class="hljs-name"><mark data-markjs="true">box</mark></span>
  (<span class="hljs-name">for</span> entry in my-json
    (<span class="hljs-name">button</span> <span class="hljs-symbol">:onclick</span> <span class="hljs-string">"notify-send 'click' 'button ${entry}'"</span>
      entry)))
</code></pre>
<p>This can be useful in many situations, for example when generating a 
workspace list from a JSON representation of your workspaces.
In many cases, this can be used instead of <code class="hljs language-undefined">literal</code>, and should most likely be preferred in those cases.</p>
<h2 id="splitting-up-your-configuration"><a class="header" href="#splitting-up-your-configuration">Splitting up your configuration</a></h2>
<p>As time passes, your configuration might grow larger and larger. 
Luckily, you can easily split up your configuration into multiple files!</p>
<p>There are two options to achieve this:</p>
<h3 id="using-include"><a class="header" href="#using-include">Using <code>include</code></a></h3>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-lisp hljs">(<span class="hljs-name">include</span> <span class="hljs-string">"./path/to/your/file.yuck"</span>)
</code></pre>
<p>A single yuck file may import the contents of any other yuck file. For this, make use of the <code class="hljs language-undefined">include</code> directive.</p>
<h3 id="using-a-separate-eww-configuration-directory"><a class="header" href="#using-a-separate-eww-configuration-directory">Using a separate eww configuration directory</a></h3>
<p>If you want to separate different widgets even further, you can create a new eww config folder anywhere else.
Then, you can tell eww to use that configuration directory by passing <em>every</em> command the <code class="hljs language-undefined">--config /path/to/your/config/dir</code> flag.
Make sure to actually include this in all your <code class="hljs language-undefined">eww</code> calls, including <code class="hljs language-undefined">eww&nbsp;kill</code>, <code class="hljs language-undefined">eww&nbsp;logs</code>, etc.
This launches a separate instance of the eww daemon that has separate logs and state from your main eww configuration.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="https://elkowar.github.io/eww/eww.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="https://elkowar.github.io/eww/expression_language.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="https://elkowar.github.io/eww/eww.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="https://elkowar.github.io/eww/expression_language.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="Configuration%20-%20eww%20documentation_files/elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="Configuration%20-%20eww%20documentation_files/mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="Configuration%20-%20eww%20documentation_files/searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="Configuration%20-%20eww%20documentation_files/clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="Configuration%20-%20eww%20documentation_files/highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="Configuration%20-%20eww%20documentation_files/book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    

</body></html>